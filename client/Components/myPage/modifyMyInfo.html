<template name="modifyMyInfo">

	<div>
		<p class="page-title find-modifyMyInfo-text">개인정보 수정/조회</p>
	</div>

	<div class="m_wrap_1">
		<label for="m_user_id">아이디</label>
		<input type="text" id="m_user_id" placeholder="아이디를 입력해주세요." disabled value="{{get_id}}">

		<label for="m_user_pass">비밀번호</label>
		<input type="password" id="m_user_pass" placeholder="비밀번호를 입력해주세요.">

		<label for="m_user_pass_check">새 비밀번호 재확인</label>
		<input type="password" id="m_user_pass_check" placeholder="비밀번호를 입력해주세요.">
	</div>
	<div class="m_wrap_2">
		<label for="m_user_name">이름</label>
		<input type="text" id="m_user_name" placeholder="김철수" value="{{get_name}}">

		<label for="m_user_birthDay">생년월일</label>
		<input type="text" id="m_user_birthDay" placeholder="19XX.XX.XX" value="{{get_birth}}">

		<div class="gender-outter">
			<label for="">성별</label>
			<label class="gender-container">남성
<input type="radio" value="male" name="gender" id="rg_user_gender" {{check_gender_male}}>
				<span class="checkmark"></span>
			</label>
			<label class="gender-container">여성
<input type="radio" value="female" name="gender" id="rg_user_gender" {{check_gender_female}}>
				<span class="checkmark"></span>
			</label>
		</div>

		<label for="m_user_email">이메일</label>
		<input type="email" id="m_user_email" placeholder="email@gmail.com" value="{{get_email}}">
	</div>

	<div class="m_wrap_3">
		<label for="m_user_grade">회원 등급</label>

		<div class="m_wrap_3-1 clearfix">
			<input type="email" id="m_user_grade" value="{{get_tier}}" disabled>
			<div id="paypal-button-container" style="display:inline-block"></div>
			<!-- <button type="button" class="m_pay_btn">결제하기</button> -->
		</div>

		<button type="button" class="default-btn m_btn">개인정보수정</button>
	</div>

	<script>
	$('document').ready(function(){
			$('.datepicker').datepicker({
			format: 'yyyy-mm-dd',
			});
		})
	</script>
<script>
	// Render the PayPal button

	paypal.Button.render({

		// Set your environment

		env: 'sandbox', // sandbox | production

		// Specify the style of the button

		style: {
			label: 'pay',
			size: 'small', // small | medium | large | responsive
			shape: 'pill', // pill | rect
			color: 'gold' // gold | blue | silver | black
		},

		// PayPal Client IDs - replace with your own
		// Create a PayPal app: https://developer.paypal.com/developer/applications/create

		client: {
			sandbox: 'AVaQNXrCC7u02TrhfCqpISfdkqnms1djVoTlLwtnHc4URRkCnNkmhxe7-Wwunn2olCwPurGC3_9AmEd_'
		},

		payment: function (data, actions) {
			return actions.payment.create({
				payment: {
					transactions: [{
						amount: {
							total: '10',
							currency: 'USD'
						}
					}]
				}
			});
		},

		onAuthorize: function (data, actions) {
			return actions.payment.execute().then(function () {
				let userData = {
                    id: $("#m_user_id").val(),
                }
                console.log(userData);
                $.ajax({
                    url: 'http://localhost:3001/account/updateTier',
                    type: 'post',
                    contentType: 'application/json',
                    data: JSON.stringify(userData),
                    success: function (data) {
                        console.log(data)
                        if(data.code == "success"){
							localStorage.token = data.token
                            alert("결제가 완료되었습니다.")
                            FlowRouter.go("/")
                        }
                    }
                })
			});
		}

	}, '#paypal-button-container');
</script>
</template>
